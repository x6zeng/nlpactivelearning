
# Active learning for NLP in predicting the relevance and sentiment of tweets about politics of China
<!-- <img src="photo_professional.jpg" alt="photo" width="200"/> -->

The US-China relationship is changing rapidly. To better understand its dynamics, monitoring and analyzing Twitter data posted by members of Congress becomes important. Before analyzing the tweets, there is a need to distinguish the sentimental posts from the factual posts and provide them with labels of different sentiment levels. Currently, we trained two classifiers that use the text features from the tweets to predict the relevance and sentiment of the tweets. The goal of this project is to explore the possibility of employing an active learning pipeline to automate the labeling procedure with these two classification models while enhancing the prediction accuracy over time with new coming tweets. After investigating the effectiveness of Active Learning, we found that Posterior probability-based sampling strategy is more effective in identifying informative data for model updating. Moreover, our study finds that unbalanced data leads to consistent improvements in metric differences, but this also results in a bias toward the oversized category. Sorting data by time has a minor impact on accuracy but leads to higher recall. The partition ratio among the training, unlabeled, and test sets suggests that the optimal model is the one with the most training and unlabeled data. Additionally, increasing the sampling size leads to improvements in most metrics. The most accurate models is a Random Forest Classifier with an 80\% accuracy for relevance prediction and a Ridge Logistic Regression with accuracies of approximately 75\%, 44\%, and 67\% for negative, neutral, and positive sentiment labels, respectively.


## Introduction
- Background
In April 2019, the China Data Lab at UC San Diego initialized the “Congress Tweets” project with the intention of exploring more about the US-China relationship. Through the Twitter API, the lab is able to collect more than 800,000 tweets related to China, posted by members of Congress in recent years. However, not all of them can be used directly to infer about the political relationship between the US and China as some of the tweets contain solely factual information related to China without a direct sentiment. In order to distinguish the relevant sentimental tweets from the factual tweets, we built two classification models using the content of the tweet to predict the relevance and sentiment score of the tweets. By automating the process, we can save resources such as human labor and time as well as ensuring the quality of the data we feed into the analysis process. Prior to deploying the models, the subsequent step is to investigate the method of active learning with incoming data to guarantee the accuracy of the predictions.

- Literature Review & Prior Work
According to Active Learning Literature Survey from the University of Wisconsin-Madison, in the field of machine learning, Active Learning is a repetitive process that utilizes a learning algorithm to search for the most informative data for the existing model, rather than training it on the entire dataset. 

There are three general learning scenarios for active learning. In Member Query Synthesis, the active learning algorithm generates a new unlabeled instance within the input space and queries the human expert for labeling. In Stream-based Selective Sampling, the unlabeled data is continuously being sent from the data source to the active learner and the active learning needs to decide if it asks the human expert to label the current data based on a query strategy. In Pool-based Sampling, the most common scenario, most informative data samples are selected from the pool of unlabeled data samples based on some sampling strategies or informativeness measure. Then, the human expert will provide the correct label for these unlabeled data samples. Different from stream-based selective sampling, it focuses on more than one data sample at a time. 

In the next step, we will determine how to select the subset of data that is most informative to the current model and there are three main types of sampling strategies for active learning based on Hardik Dave's findings. In Committee-based Strategies, we will build different models and use the models’ predictions to determine the most informative data. The data is considered as most informative if there is maximum disagreement in predictions from the models. The disagreement can be measured by entropy or KL-Divergence. In Large margin-based Strategies, the distance to the separating hyperplane is used to measure the model’s confidence or certainty on unlabeled data. In Posterior probability-based strategies, the estimation of class probabilities and the posterior probability distribution are used to determine whether the unlabeled data sample should be queried for label or not. This strategy can be used with any type of model which has the ability to predict output probabilities for class membership. The posterior probability distribution indicates the model’s confidence and certainty to assign the data sample to a particular class. For Posterior probability-based strategies, some common strategies to determine the most informative data samples from the probability distribution include Least Confidence, Best-versus-Second-Best (BvSB), and Entropy.

- Relevant Data
The twitter data for this project consists of three parts of information. The first part is the original tweet data which includes the tweet id, author, content, post date, etc. The second part is about the congress politicians who posted the tweets which include their name, birthday, states of representative, political party, etc. The third part is the labels that researchers provide to the tweets subjectively. For example, the columns include the countries the tweet is associated with, whether the tweet is factual or sentimental, and the sentiment score for the content. Our goal is to build two classification models and apply natural language processing to predict the third part of the data which was previously labeled manually. The twitter data consists of 15846 rows and 14544 unique tweets. Since the tweets were sent to different researchers to label and then aggregated together, there are duplicated tweets with different labels for relevance and sentiment score. The date of the tweets range from 2009 to 2021 and there are a total of 568 unique politicians who have posted any tweets in our datasets. The politicians with the largest number of posts in our dataset are Marsha Blackburn with 451 tweets, Marco Rubio with 433 tweets, and Jim Banks with 416 tweets. In terms of partisanship, Republicans have 10420 tweets compared to Democrats with 3889 tweets. In terms of state, Texas, Florida, Tennessee, California are the states with the most number of tweets. The age of politicians form a normal distribution where the age of most of the active members of Congress lie between 50 and 70. Some popular topics extracted from the tweets include human rights, communist party, sanction, national security, and coronavirus. There are also many other countries and areas mentioned in the tweets which include the United States, Canada, Iran, Hong Kong, Russia, and North Korea. 

## Methods
- Data Collection
- Data Preprocessing
- Model Selection
- Active Learning

## Results

## Discussion

## Conclusion

## Contribution
